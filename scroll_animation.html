<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #f2f2f2;
    }

    h1 {
      text-align: center;
      padding: 50px 0;
    }

    .box {
      width: 80%;
      height: 200px;
      margin: 100px auto;
      background: #4a90e2;
      color: white;
      font-size: 2em;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 12px;

      /* ì²˜ìŒì—” ì•ˆ ë³´ì´ê²Œ (íˆ¬ëª… & ì•„ë˜ë¡œ ì´ë™) */
      opacity: 0;
      transform: translateY(50px);
      transition: all 0.8s ease-out;
    }

    /* í™”ë©´ì— ë³´ì´ë©´ ë‚˜íƒ€ë‚˜ëŠ” íš¨ê³¼ */
    .box.show {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>

<body>
  <h1>ìŠ¤í¬ë¡¤í•´ì„œ ì•„ë˜ë¡œ ë‚´ë ¤ë³´ì„¸ìš”~~~~!!!!</h1>

  <div class="box">1ë²ˆì§¸ ë°•ìŠ¤</div>
  <div class="box">2ë²ˆì§¸ ë°•ìŠ¤</div>
  <div class="box">3ë²ˆì§¸ ë°•ìŠ¤</div>
  <div class="box">4ë²ˆì§¸ ë°•ìŠ¤</div>

  <script>
    /*
const boxes = document.querySelectorAll('.box');

// Intersection Observer ì„¤ì •
const observer = new IntersectionObserver((entries, observer) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('show');
      // í•œ ë²ˆë§Œ ì• ë‹ˆë©”ì´ì…˜ ì‹¤í–‰í•˜ë ¤ë©´ ê´€ì°° ì¤‘ë‹¨
      observer.unobserve(entry.target);
    }
  });
}, {
  threshold: 0.2 // 20% ë³´ì´ë©´ íŠ¸ë¦¬ê±°
});

// ê° ìš”ì†Œ ê´€ì°° ì‹œì‘
boxes.forEach(box => observer.observe(box)); 
*/


    const boxes = document.querySelectorAll('.box');

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {

        // 50% ì´ìƒ ë³´ì´ë©´ show ì¶”ê°€
        if (entry.intersectionRatio >= 0.5) {
          entry.target.classList.add('show');
        }
        // 50% ë¯¸ë§Œìœ¼ë¡œ ë‚´ë ¤ê°€ë©´ show ì œê±°
        else {
          entry.target.classList.remove('show');
        }

      });
    }, {
      threshold: [0, 0.5] // ì—¬ëŸ¬ threshold ê°ì§€
    });

    boxes.forEach(box => observer.observe(box));




    /*
    ì•„ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œëŠ” Intersection Observerë¥¼ ì´ìš©í•´ì„œ .box ìš”ì†Œê°€ í™”ë©´ì— ì¼ì • ë¶€ë¶„(20%) ë³´ì´ë©´ show í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ê³ , í•œ ë²ˆ ì• ë‹ˆë©”ì´ì…˜ì´ ì‹¤í–‰ë˜ë©´ ë” ì´ìƒ ê´€ì°°í•˜ì§€ ì•Šë„ë¡ ì„¤ì •í•œ ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤.
    ê° ì¤„ì´ ì–´ë–¤ ì˜ë¯¸ì¸ì§€ ìì„¸íˆ í•´ì„í•´ ë“œë¦´ê²Œìš”.
    
    âœ… ì½”ë“œ í•´ì„
    const boxes = document.querySelectorAll('.box');
    
    
    HTML ë¬¸ì„œì—ì„œ .box í´ë˜ìŠ¤ë¥¼ ê°€ì§„ ëª¨ë“  ìš”ì†Œë“¤ì„ ì„ íƒí•¨.
    
    boxesëŠ” NodeList(ë°°ì—´ ë¹„ìŠ·í•œ ê°ì²´)ì…ë‹ˆë‹¤.
    
    // Intersection Observer ì„¤ì •
    const observer = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('show');
          // í•œ ë²ˆë§Œ ì• ë‹ˆë©”ì´ì…˜ ì‹¤í–‰í•˜ë ¤ë©´ ê´€ì°° ì¤‘ë‹¨
          observer.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.2 // 20% ë³´ì´ë©´ íŠ¸ë¦¬ê±°
    });
    
    â¤ IntersectionObserver ìƒì„±
    
    entries: í™”ë©´ì— ë³´ì´ëŠ”ì§€ ì—¬ë¶€ê°€ ë³€ê²½ëœ ìš”ì†Œë“¤ì˜ ëª©ë¡
    
    observer: í˜„ì¬ ì˜µì €ë²„ ì¸ìŠ¤í„´ìŠ¤
    
    ğŸ” ì‘ë™ ë°©ì‹
    
    ìš”ì†Œê°€ í™”ë©´ì— 20% ì´ìƒ ë³´ì´ë©´(entry.isIntersecting === true):
    
    entry.target(í•´ë‹¹ ìš”ì†Œ)ì— .show í´ë˜ìŠ¤ë¥¼ ì¶”ê°€ â†’ CSS ì• ë‹ˆë©”ì´ì…˜ ë˜ëŠ” íš¨ê³¼ ì‹¤í–‰í•¨.
    
    observer.unobserve(entry.target)
    
    íš¨ê³¼ê°€ í•œ ë²ˆ ì‹¤í–‰ë˜ë©´ ë” ì´ìƒ ê°ì‹œí•˜ì§€ ì•Šë„ë¡ í•¨.
    
    ì¦‰, ìŠ¤í¬ë¡¤í•  ë•Œë§ˆë‹¤ ë°˜ë³µ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ.
    
    // ê° ìš”ì†Œ ê´€ì°° ì‹œì‘
    boxes.forEach(box => observer.observe(box));
    
    
    .box ê°ê°ì— ëŒ€í•´ ê´€ì°°ì„ ì‹œì‘í•¨.
    
    í˜ì´ì§€ ìŠ¤í¬ë¡¤ ì¤‘ í™”ë©´ì— ë“±ì¥í•  ë•Œ ìœ„ ë¡œì§ì´ ì‹¤í–‰ë˜ê²Œ ë¨.
    
    ğŸ“Œ ìš”ì•½
    ê¸°ëŠ¥	ì„¤ëª…
    .box ìš”ì†Œ ëª¨ë‘ ì°¾ê¸°	document.querySelectorAll('.box')
    IntersectionObserver ìƒì„±	ìš”ì†Œê°€ í™”ë©´ì— ë³´ì´ëŠ” ìˆœê°„ ê°ì§€
    isIntersecting	ìš”ì†Œê°€ thresholdë§Œí¼ ë³´ì´ë©´ true
    .show í´ë˜ìŠ¤ ì¶”ê°€	ì• ë‹ˆë©”ì´ì…˜ ë˜ëŠ” íš¨ê³¼ ë°œë™
    unobserve	í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ë„ë¡ ê´€ì°° ì¤‘ë‹¨
    threshold: 0.2	ìš”ì†Œì˜ 20%ê°€ ë³´ì´ë©´ ì‘ë™
    
    ì›í•˜ì‹œë©´ ì´ ì½”ë“œì— ë§ëŠ” CSS ì• ë‹ˆë©”ì´ì…˜ ì˜ˆì œë„ ë§Œë“¤ì–´ ë“œë¦´ê¹Œìš”?
    */
  </script>
</body>

</html>
